(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(20),i=n.n(c),a=(n(34),n(3)),l=n(9),o=n(4),d=n(8),u="/connexion",j="/inscription",b="/stations",x="/visualiser",m=n(0);function h(){return Object(m.jsx)("div",{class:"loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-6 w-6"})}function O(e){var t=e.name,n=e.onClick,s=e.form,r=e.disabled,c=e.formState,i=e.loadingAction,a=(c&&c.isSubmitting,c&&c.isSubmitting);return Object(m.jsx)(m.Fragment,{children:r?Object(m.jsx)("button",{disabled:!0,onClick:n,form:s,class:"disabled:opacity-50 cursor-not-allowed  text-sm w-full flex justify-center items-center text-white rounded-md px-8 py-3 shadow-md bg-blue-500 hover:bg-blue-700",children:Object(m.jsx)("span",{children:t})}):Object(m.jsxs)("button",{form:s,onClick:n,class:"disabled:opacity-50 text-sm cursor-pointer  w-full flex justify-center items-center text-white rounded-md px-5 py-2 shadow-md bg-blue-500 hover:bg-blue-700",children:[a||i?Object(m.jsx)("span",{children:Object(m.jsx)(h,{})}):"",Object(m.jsx)("span",{children:t})]})})}function p(e){var t=e.name,n=e.onClick,s=e.disabled,r=e.link,c=e.formState;e.loadingAction;return Object(m.jsx)(m.Fragment,{children:r?Object(m.jsx)(l.b,{to:r,children:Object(m.jsx)(O,{name:t,formState:c,disabled:s})}):Object(m.jsx)(O,{onClick:n,name:t,formState:c,disabled:s})})}Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return!n.user||"premium"!==n.user.roles&&"owner"!==n.user.roles?t:null}));Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return n.user&&"premium"===n.user.roles?t:null}));var v=n(17),f=n.n(v),g="USER_LOADING",y="USER_LOADED",w="LOGIN_SUCCESS",S="LOGIN_FAIL",k="LOGOUT_SUCCESS",C="REGISTER_SUCCESS",E="REGISTER_FAIL",M="AUTH_ERROR",_="GET_ERRORS",L="CLEAR_ERRORS",T="GET_SUBSCRIPTION_LOADING_PREMIUM",A="GET_SUBSCRIPTION_LOADING_OWNER",I="GET_SUBSCRIPTION",N="GET_SUBSCRIPTION_TYPE",D="SUBSCRIPTION_SUCCESS",G="SUBSCRIPTION_FAIL",R="FOLLOW_LOADING",P="FOLLOW_SUCCESS",z="FOLLOW_FAIL",H="UNFOLLOW_SUCCESS",V="UNFOLLOW_FAIL",B="SEARCH_LOADING",U="GET_SEARCH_VALUE_ON_TYPE",q="SEARCHED_VALUE",F="GET_SEARCHED_VALUES",W="SET_VIEWPORT",Z="SEARCH_VIEWPORT",J="CLEAR_ERROR_MESSAGES",Y="STATION_LOADING",X="ADD_STATION_SUCCESS",Q="ADD_STATION_FAIL",$="LOAD_FOLLOWED",K="GET_SELECTED_ID",ee="STATIONS_LOADED",te="CLEAR_SELECTED_ID",ne=function(e){var t=e().auth.token,n={headers:{"content-type":"application/json"}};return t&&(n.headers.Authorization=t),n},se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:_,payload:{message:e,status:t,id:n}}},re=function(e){var t=e.email,n=e.password;return function(e){var s=JSON.stringify({email:t,password:n});e({type:g}),f.a.post("/authentication/signin",s,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:w,payload:t.data})}),e({type:L})).catch((function(t){e(se(t.response.data.message,t.response.status,"LOGIN_FAIL")),e({type:S})}))}},ce=function(e){var t=e.email,n=e.password,s=e.firstName,r=e.lastName,c=e.number;return function(e){var i=JSON.stringify({email:t,password:n,firstName:s,lastName:r,number:c});e({type:g}),f.a.post("/authentication/signup",i,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:C,payload:t.data})}),e({type:L})).catch((function(t){e(se(t.response.data.message,t.response.status,"REGISTER_FAIL")),e({type:E})}))}};function ie(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}function ae(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function le(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}function oe(e){var t=e.icon,n=e.text,s=e.link,r=e.onClick,c=e.color;return Object(m.jsx)("li",{class:c,onClick:r,children:Object(m.jsxs)(l.b,{class:"px-4 py-2 text-sm hover:bg-gray-100  flex items-center rounded-md cursor-pointer",to:s,children:[t?Object(m.jsx)("div",{class:"mr-5",children:t}):""," ",n]})})}function de(){var e=Object(a.c)();return Object(m.jsxs)("ul",{class:"flex w-full flex-col text-gray-600 bg-white shadow-lg rounded-md px-3 py-4",children:[Object(m.jsx)(oe,{icon:Object(m.jsx)(ae,{}),text:"Profile",link:""}),Object(m.jsx)(oe,{icon:Object(m.jsx)(le,{}),text:"Stations",link:b}),Object(m.jsx)(oe,{onClick:function(){return e({type:k})},icon:Object(m.jsx)(ie,{}),text:"Deconnexion",link:""})]})}function ue(e){var t=e.name,n=Object(s.useState)(!1),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(m.jsxs)("div",{onClick:function(){return i(!c)},class:"rounded-full shadow-lg relative cursor-pointer hover:bg-blue-500 flex justify-center items-center text-white bg-blue-400 w-11 h-11",children:[t,c?Object(m.jsx)("div",{class:"absolute right-0 top-11 z-10",children:Object(m.jsx)(de,{})}):""]})}var je=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children;return e.auth.isAuthenticated?t:null})),be=n(2),xe=n(15),me=[{id:1,name:"sakdje",longitude:8.26867437781947,latitude:13.659770114876952,data:[{timeStamp:"01-02-2021",hour:"07:00",temperature:"28",windSpeed:"30 ",humidity:"40"},{timeStamp:"01-02-2021",hour:"07:20",temperature:"22",windSpeed:"22 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"07:40",temperature:"13",windSpeed:"11 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:2,name:"laki",longitude:8.51619517885172,latitude:14.034422194484119,data:[{timeStamp:"01-02-2021",hour:"10:10",temperature:"10",windSpeed:"10 ",humidity:"50"},{timeStamp:"01-02-2021",hour:"10:30",temperature:"12",windSpeed:"8 ",humidity:"45"},{timeStamp:"01-02-2021",hour:"10:50",temperature:"11",windSpeed:"5 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"good"},{id:3,name:"pitoa",longitude:9.386981826940156,latitude:13.506196037810541,data:[{timeStamp:"01-02-2021",hour:"12:00",temperature:"40",windSpeed:"24 ",humidity:"33"},{timeStamp:"01-02-2021",hour:"12:20",temperature:"24",windSpeed:"50 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"12:40",temperature:"13",windSpeed:"18 ",humidity:"39"},{timeStamp:"01-02-2021",hour:"13:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:4,name:"djalingo",longitude:9.695760263135327,latitude:14.023926737422995,data:[{timeStamp:"01-02-2021",hour:"18:00",temperature:"50",windSpeed:"10 ",humidity:"27"},{timeStamp:"01-02-2021",hour:"18:20",temperature:"37",windSpeed:"23 ",humidity:"31"},{timeStamp:"01-02-2021",hour:"07:40",temperature:"13",windSpeed:"11 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"19:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:5,name:"maroua",longitude:10.595017386488939,latitude:14.318816372693883,data:[{timeStamp:"01-02-2021",hour:"09:00",temperature:"41",windSpeed:"27 ",humidity:"10"},{timeStamp:"01-02-2021",hour:"09:20",temperature:"22",windSpeed:"28 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"09:40",temperature:"13",windSpeed:"17 ",humidity:"20"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:6,name:"mora",longitude:11.043488493484242,latitude:14.14644728558115,data:[{timeStamp:"01-02-2021",hour:"06:00",temperature:"17",windSpeed:"25 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"06:20",temperature:"26",windSpeed:"22 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"06:40",temperature:"17",windSpeed:"14 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:7,name:"Galim",longitude:7.158555871290232,latitude:12.477984624409409,data:[{timeStamp:"01-02-2021",hour:"07:00",temperature:"28",windSpeed:"30 ",humidity:"40"},{timeStamp:"01-02-2021",hour:"07:20",temperature:"22",windSpeed:"22 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"07:40",temperature:"13",windSpeed:"11 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"},{id:8,name:"bertoua",longitude:4.586246035018605,latitude:13.69049158353418,data:[{timeStamp:"01-02-2021",hour:"07:00",temperature:"16",windSpeed:"20 ",humidity:"60"},{timeStamp:"01-02-2021",hour:"07:20",temperature:"22",windSpeed:"22 ",humidity:"35"},{timeStamp:"01-02-2021",hour:"07:40",temperature:"13",windSpeed:"11 ",humidity:"30"},{timeStamp:"01-02-2021",hour:"11:10",temperature:"30",windSpeed:"2 ",humidity:"5"}],rating:"excellent"}];function he(){Object(a.d)((function(e){return e.search.searchedValue}));var e=Object(a.c)(),t=Object(xe.b)(),n=t.register,r=(0,t.watch)("search");return Object(s.useEffect)((function(){e({type:U,payload:r||null})}),[r,e]),Object(m.jsxs)("div",{class:" relative mx-auto text-gray-700",children:[Object(m.jsx)("input",Object(be.a)({class:"  bg-gray-50 h-10 px-12 pr-2 bl-2 text-blue-400 rounded-md text-sm focus:outline-none",type:"search",name:"search",autoComplete:"off",placeholder:"Rechercher une station"},n("search"))),Object(m.jsx)("button",{type:"submit",class:"absolute left-4 top-0 my-3 mr-4 text-gray-400",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}function Oe(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})}var pe=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return!n.user||"premium"!==n.user.roles&&"owner"!==n.user.roles?null:t}));function ve(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}function fe(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}function ge(e){var t=e.onClick;return Object(m.jsx)("section",{class:"rounded-md w-48 py-4 absolute top-11 left-0 right-0 bg-white shadow-md",children:Object(m.jsxs)("ul",{class:" flex justify-between flex-col mx-4",children:[Object(m.jsx)(oe,{onClick:function(){return t(!1)},icon:Object(m.jsx)(ve,{}),text:"Accueil",link:"/"}),Object(m.jsx)(je,{children:Object(m.jsx)(oe,{onClick:function(){return t(!1)},icon:Object(m.jsx)(le,{}),text:"Stations",link:b})}),Object(m.jsx)(pe,{children:Object(m.jsx)(oe,{onClick:function(){return t(!1)},icon:Object(m.jsx)(fe,{}),text:"Visualiser",link:x})})]})})}function ye(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function we(e){var t=e.searched,n=Object(a.d)((function(e){return e.station.stations})),s=Object(a.c)(),r=n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})),c=function(e,t){s(function(e,t){return{type:q,payload:{value:e,id:t}}}(e,t))};return Object(m.jsx)("ul",{class:"rounded-md w-full py-4 px-3 absolute top-11 left-0 right-0 bg-gray-50 shadow-md",children:0!==r.length?r.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(oe,{onClick:function(){return c(e.name,e._id)},text:"".concat(e.name)})},e._id)})):Object(m.jsxs)("div",{class:"text-sm text-center opacity-60 flex justify-center items-center",children:[Object(m.jsx)("div",{class:"mr-4",children:Object(m.jsx)(ye,{})}),Object(m.jsx)("div",{children:"Aucun r\xe9sultat correspondant"})]})})}var Se=n(5),ke=n(10),Ce=function(e){var t=e.id,n=e.idStation;return function(e,s){e({type:R});var r={id:t,idStation:n};f.a.post("authentication/follow/",r,ne(s)).then((function(t){return e({type:P,payload:{data:t.data,idStation:n}})})).catch((function(e){return console.log(e)}))}},Ee=function(e){var t=e.id,n=e.idStation;return function(e,s){var r={id:t,idStation:n};e({type:R}),f.a.post("authentication/unfollow/",r,ne(s)).then((function(t){return e({type:H,payload:{data:t.data,idStation:n}})})).catch((function(t){var n;return e({type:V,payload:null===(n=t.response)||void 0===n?void 0:n.data})}))}},Me=function(){return function(e,t){var n;e({type:$,payload:null===(n=t().auth.user)||void 0===n?void 0:n.stationSuivie})}},_e=function(e){var t=e.userId,n=e.identificator,s=e.name,r=e.longitude,c=e.latitude,i=e.number;return function(e,a){var l={userId:t,identificator:n,name:s,longitude:r,latitude:c,number:i};e({type:Y}),f.a.post("stations/register/",l,ne(a)).then((function(t){return e({type:X,payload:t.data})})).catch((function(t){return e({type:X,payload:t.response})}))}},Le=function(){return{type:te}};function Te(e){var t=e.onClick,n=e.loading;return Object(m.jsx)("div",{class:"relative",children:Object(m.jsx)("div",{class:"relative flex justify-center items-center",children:Object(m.jsxs)("div",{onClick:t,class:"flex bg-blue-600 w-46 rounded-md text-white justify-center py-2 px-5 mx-auto cursor-pointer hover:bg-blue-700 text-sm items-center",children:[n?"":Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),n?Object(m.jsx)(h,{}):Object(m.jsx)("div",{class:"ml-4",children:"Suivre"})]})})})}function Ae(e){var t=e.onClick,n=e.loading;return Object(m.jsx)("div",{class:"relative flex justify-center items-center",children:Object(m.jsxs)("div",{onClick:t,class:"flex bg-red-600 w-46 rounded-md text-white py-2 justify-center px-5 mx-auto cursor-pointer hover:bg-red-700 text-sm items-center",children:[n?"":Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),n?Object(m.jsx)(h,{}):Object(m.jsx)("div",{class:"ml-4",children:"Ne plus suivre"})]})})}function Ie(e){var t=e.id,n=Object(a.d)((function(e){return e.auth.user})),r=Object(a.c)(),c=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.followedByUser})),i=Object(a.d)((function(e){return e.station.loading})),l=function(){var e=Object(ke.a)(Object(Se.a)().mark((function e(t){var s;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={id:n._id,idStation:t},r(Ce(s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){r(Me())}),[r]);var o=function(){var e=Object(ke.a)(Object(Se.a)().mark((function e(t){var s;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={id:n._id,idStation:t},r(Ee(s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(je,{children:null!==c&&void 0!==c&&c.includes(t)?Object(m.jsx)(Ae,{loading:i,onClick:function(){o(t||"")}}):Object(m.jsx)(Te,{loading:i,onClick:function(){l(t||"")}})})}var Ne=n.p+"static/media/facebook.888cde1c.svg",De=n.p+"static/media/twitter.34bb64ee.svg";function Ge(){return Object(m.jsxs)("div",{class:"flex justify-between items-center w-16",children:[Object(m.jsx)("img",{class:"w-5 cursor-pointer",src:Ne,alt:"Facebook Icon"}),Object(m.jsx)("img",{class:"w-5 cursor-pointer",src:De,alt:"Twitter Icon"})]})}function Re(e){var t=e.name,n=e.value;return Object(m.jsxs)("div",{class:"flex justify-between my-4",children:[Object(m.jsx)("div",{children:t}),Object(m.jsx)("div",{class:"text-blue-900",children:n})]})}function Pe(e){var t,n=e.id,r=Object(a.d)((function(e){return e.search.searchedValues})),c=Object(a.c)();return Object(s.useEffect)((function(){var e,t,s={longitude:r?null===(e=r[0])||void 0===e?void 0:e.longitude:12.25444,latitude:r?null===(t=r[0])||void 0===t?void 0:t.latitude:5.79142};c(function(e){var t=me.filter((function(t){return t.id===e}));return{type:F,payload:t}}(n)),c(function(e){return console.log(e),{type:Z,payload:e}}(s))}),[n,c]),Object(m.jsxs)("div",{class:"rounded-md w-full py-6 px-6 absolute top-11 left-0 right-0 bg-gray-50 shadow-md",children:[Object(m.jsxs)("div",{class:"flex justify-between items-center",children:[Object(m.jsxs)("div",{class:"font-semibold",children:["Station de ",r?null===(t=r[0])||void 0===t?void 0:t.name:""]}),Object(m.jsx)("div",{class:"text-blue-600 text-sm cursor-pointer hover:underline",children:"Placer une alerte"})]}),Object(m.jsxs)("div",{class:"overflow-y-scroll h-80 pr-4 mt-4 ",children:[Object(m.jsxs)("div",{class:"rounded-md text-sm bg-gray-100 px-4 py-4",children:[Object(m.jsx)(Re,{name:"Heure de prise",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Vitesse du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Temperature",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Humidit\xe9",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Direction du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"pH du sol",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Pluviom\xe9trie",value:"20 GMT"})]}),Object(m.jsxs)("div",{class:"rounded-md text-sm mt-4 bg-gray-100 px-4 py-4",children:[Object(m.jsx)(Re,{name:"Heure de prise",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Vitesse du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Temperature",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Humidit\xe9",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Direction du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"pH du sol",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Pluviom\xe9trie",value:"20 GMT"})]}),Object(m.jsxs)("div",{class:"rounded-md text-sm mt-4 bg-gray-100 px-4 py-4",children:[Object(m.jsx)(Re,{name:"Heure de prise",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Vitesse du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Temperature",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Humidit\xe9",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Direction du vent",value:"20 GMT"}),Object(m.jsx)(Re,{name:"pH du sol",value:"20 GMT"}),Object(m.jsx)(Re,{name:"Pluviom\xe9trie",value:"20 GMT"})]})]}),Object(m.jsxs)("div",{class:"flex justify-between items-center mt-5",children:[Object(m.jsx)(Ge,{}),Object(m.jsx)(Ie,{id:n})]})]})}var ze=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children;return e.auth.isAuthenticated?null:t}));function He(e){var t=e.children;return"/"!==Object(d.h)().pathname?null:t}Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return n.user&&"owner"===n.user.roles?t:null}));var Ve=function(){var e=Object(d.h)(),t=Object(s.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.d)((function(e){return e.search.searchValueOnType})),j=Object(a.d)((function(e){return e.search}));return Object(m.jsxs)("nav",{class:"text-gray-600 flex ".concat("/"!==e.pathname?" bg-gray-50 py-2 shadow-sm  px-6 ":"py-4  px-6 "," justify-between items-center "),children:[Object(m.jsx)("section",{class:"flex relative",children:Object(m.jsxs)("div",{class:"flex ".concat("/"!==e.pathname?"shadow-none":"bg-white"," items-center shadow-md rounded-md pl-4"),children:[Object(m.jsxs)("div",{class:"mr-2 cursor-pointer flex items-center",children:[Object(m.jsx)("div",{class:"pl2",onClick:function(){return c(!r)},children:Object(m.jsx)(Oe,{})}),Object(m.jsx)("div",{class:"ml-4",children:Object(m.jsx)(l.b,{to:"/",children:"METRICS"})})]}),Object(m.jsx)("div",{class:"ml-4",children:Object(m.jsx)(He,{children:Object(m.jsx)(he,{})})}),r?Object(m.jsx)(ge,{onClick:c}):"",i&&!j.toggle?Object(m.jsx)(we,{searched:i}):"",j.toggle?Object(m.jsx)(Pe,{id:j.searchValueId}):""]})}),"/"!==e.pathname?Object(m.jsxs)("section",{class:"flex  sm:hidden md:flex xl:flex 2xl:flex justify-between",children:[" ",Object(m.jsx)(je,{children:Object(m.jsx)(l.c,{to:"/stations-suivies",activeClassName:"selected",className:"navLink",children:"Stations suivies"})}),Object(m.jsx)(pe,{children:Object(m.jsx)(l.c,{to:"/visualiser",activeClassName:"selected",className:"navLink",children:"Visualiser"})})]}):"",Object(m.jsx)("section",{class:"flex justify-between items-center  ",children:Object(m.jsxs)("div",{class:"ml-16 flex items-center justify-between",children:[Object(m.jsx)(je,{children:Object(m.jsx)(l.b,{class:"text-blue-400",to:b,children:Object(m.jsx)(p,{name:"Stations"})})}),Object(m.jsx)(ze,{children:Object(m.jsx)(p,{name:"Se connecter",link:u})}),Object(m.jsx)(je,{children:Object(m.jsx)("div",{class:"ml-12",children:Object(m.jsx)(ue,{name:"H"})})})]})})]})};var Be=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return n.user&&"owner"===n.user.roles?null:t}));var Ue=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth;return n.user&&"premium"===n.user.roles?null:t}));function qe(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}function Fe(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}function We(e){var t=e.advantages,n=e.price,s=e.type,r=e.subscribe,c=Object(a.d)((function(e){return e.subscription.loading})),i=Object(a.d)((function(e){return e.subscription.type}));return Object(m.jsx)("div",{class:"relative",children:c?Object(m.jsx)("div",{class:"absolute inset-0 bg-white bg-opacity-30",children:Object(m.jsx)(h,{})}):Object(m.jsxs)("div",{id:"pricing",class:"flex flex-col h-auto  shadow-xl bg-white border-opacity-10\t border-blue-500 border px-8 py-10 rounded-md",children:[Object(m.jsx)("div",{class:"font-semibold opacity-60 mx-auto mb-8",children:s}),Object(m.jsxs)("div",{class:"font-bold text-4xl text-blue-800 opacity-80 mx-auto",children:["mensuel"===i?n:1e3*n*12," FCFA"]}),Object(m.jsxs)("div",{class:"mt-8",children:[t?t.map((function(e){return Object(m.jsxs)("div",{class:"flex justify-left items-center",children:[Object(m.jsx)("div",{class:"mr-4",children:Object(m.jsx)(qe,{})}),Object(m.jsx)("div",{class:"text-sm my-2",children:e})]})})):"","Owner"===s?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{class:"flex justify-left items-center",children:[Object(m.jsx)("div",{class:"mr-4",children:Object(m.jsx)(Fe,{})}),Object(m.jsx)("div",{class:"text-sm my-2",children:"Ajouter modifier une station"})]}),Object(m.jsxs)("div",{class:"flex justify-left items-center",children:[Object(m.jsx)("div",{class:"mr-4",children:Object(m.jsx)(Fe,{})}),Object(m.jsx)("div",{class:"text-sm my-2",children:"Partager une station"})]})]}):""]}),Object(m.jsx)("div",{class:"mt-8",children:Object(m.jsx)(p,{onClick:function(){return r(s.toLowerCase())},name:"Devenir ".concat(s)})})]})})}var Ze=["Voir les stations","Suivre les stations","Placer une alerte","Pas de publicit\xe9s","Historique des stations","Visualisation \xe9tendue et pr\xe9diction","Noter une station"],Je=["Voir les stations","Suivre les stations","Placer une alerte","Pas de publicit\xe9s","Historique des stations","Visualisation \xe9tendue et pr\xe9diction","Noter une station"];function Ye(e){var t=e.subscribe;return Object(m.jsxs)("div",{class:"flex items-center justify-between w-full",children:[Object(m.jsxs)(Ue,{children:[Object(m.jsx)(We,{type:"Premium",advantages:Ze,price:"5.000",subscribe:t})," "]}),Object(m.jsx)(We,{type:"Owner",advantages:Je,price:"25.000",subscribe:t})]})}var Xe=function(e){return{type:N,payload:e}};function Qe(){var e=Object(xe.b)({mode:"onChange"}),t=e.register,n=(e.handleSubmit,e.watch),r=(e.formState,Object(a.c)()),c=Object(s.useState)(!1),i=Object(o.a)(c,2),l=(i[0],i[1]),d=n("price");return Object(s.useEffect)((function(){return r(Xe(d?"annuel":"mensuel")),function(){l("")}}),[d,r]),Object(m.jsxs)("div",{class:"flex flex-col items-center",children:[Object(m.jsx)("div",{class:"mb-8 font-semibold text-xl text-blue-900 opacity-80",children:"Type d'abonnement"}),Object(m.jsx)("div",{class:"flex items-center justify-center w-full mb-12",children:Object(m.jsxs)("label",{for:"toogleA",class:"flex items-center cursor-pointer",children:[Object(m.jsx)("div",{class:"mr-8 text-blue-900 font-medium",children:"Mensuel"}),Object(m.jsxs)("div",{class:"relative",children:[Object(m.jsx)("input",Object(be.a)({id:"toogleA",name:"price",type:"checkbox",class:"sr-only"},t("price",{required:!0}))),Object(m.jsx)("div",{class:"w-10 h-4 bg-blue-200 rounded-full shadow-inner"}),Object(m.jsx)("div",{class:"dot absolute w-6 h-6 bg-white rounded-full shadow -left-1 -top-1 transition"})]}),Object(m.jsx)("div",{class:"ml-8 text-blue-900 font-medium",children:"Annuel"})]})})]})}function $e(e){var t=e.subscribe,n=e.sub;return Object(m.jsx)(Be,{children:Object(m.jsxs)("div",{class:"flex flex-col",children:[Object(m.jsx)(Qe,{}),Object(m.jsx)(Ye,{subscribe:t,sub:n})]})})}function Ke(){var e=Object(a.d)((function(e){return e.auth.user})),t=Object(a.c)(),n=Object(d.g)();return Object(m.jsx)("div",{class:"mx-auto mt-32",children:Object(m.jsx)($e,{subscribe:function(s){if(e){var r={id:e._id,subscription:s};t(function(e){var t=e.id,n=e.subscription;return function(e,s){e("premium"===n?{type:T}:{type:A}),f.a.put("/authentication/subscription/".concat(t,"/").concat(n),"",ne(s)).then((function(t){return e({type:D,payload:t})})).catch((function(t){return e({type:G,payload:t.response})}))}}(r)),window.location.reload(!0)}else n.push(u)}})})}var et=n(32),tt=n.p+"static/media/marker.b49b0ddd.png",nt=n(33);n(79);function st(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}var rt=n.p+"static/media/temp.371d24dd.svg",ct=n.p+"static/media/water.85c7667b.svg",it=n.p+"static/media/wind.2b9998af.svg",at=n.p+"static/media/windDirection.de8a224f.svg",lt=n.p+"static/media/rain.c2ae2e32.svg",ot=n.p+"static/media/ground.7baea97e.svg";function dt(e){var t=e.name,n=e.icon,s=e.stationData;e.parameter;return Object(m.jsxs)("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between items-center",children:[Object(m.jsx)("div",{class:"mb-5 sm:mb-0 text-gray-800 font-semibold opacity-70 text-sm",children:t})," ",Object(m.jsxs)("div",{class:"flex justify-center items-center",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{id:"icon",class:"w-4 mr-4",src:n,alt:"Ic\xf4ne du vent icon"})}),Object(m.jsx)("div",{class:"text-blue-600 text-sm",children:s})]})]})}function ut(e){var t,n,s,r,c,i,a=e.station;return Object(m.jsxs)("div",{class:"flex flex-col bg-gray-50 border-t-2 border-b-2 rounded-md p-8",children:[Object(m.jsxs)("div",{class:"flex justify-between mb-6 ",children:[Object(m.jsxs)("div",{class:"flex justify-between ",children:[Object(m.jsx)("div",{class:"text-gray-800 font-semibold opacity-70 text-sm",children:"Longitude"}),Object(m.jsx)("div",{class:"ml-4 text-blue-600 text-sm",children:a?Math.ceil(a.longitude):""})]}),Object(m.jsxs)("div",{class:"flex justify-between",children:[Object(m.jsx)("div",{class:"text-gray-800 font-semibold opacity-70 text-sm",children:"Latitude"}),Object(m.jsx)("div",{class:"ml-4 text-blue-600 text-sm",children:a?Math.ceil(a.latitude):""})]})]}),Object(m.jsxs)("div",{class:"grid gap-y-10 grid-cols-3 sm:grid-cols-1 justify-between sm:px-4 md:px-8 bg-white shadow-sm rounded-md py-4 md:py-8",children:[Object(m.jsx)(dt,{name:"Temp\xe9rature",icon:rt,stationData:a.values?"".concat(null===a||void 0===a||null===(t=a.values.at(-1))||void 0===t?void 0:t.temperature," \xb0"):""}),Object(m.jsx)(dt,{name:"Wind Speed",icon:it,stationData:a.values?"".concat(null===a||void 0===a||null===(n=a.values.at(-1))||void 0===n?void 0:n.windSpeed," km/h"):""}),Object(m.jsx)(dt,{name:"Humidit\xe9",icon:ct,stationData:null!==a&&void 0!==a&&a.values?"".concat(null===a||void 0===a||null===(s=a.values.at(-1))||void 0===s?void 0:s.humidity," %"):""}),Object(m.jsx)(dt,{name:"Rain",icon:lt,stationData:null!==a&&void 0!==a&&a.values?"".concat(null===a||void 0===a||null===(r=a.values.at(-1))||void 0===r?void 0:r.rain," "):""}),Object(m.jsx)(dt,{name:"PH soil",icon:ot,stationData:null!==a&&void 0!==a&&a.values?"".concat(null===a||void 0===a||null===(c=a.values.at(-1))||void 0===c?void 0:c.phSoil," "):""}),Object(m.jsx)(dt,{name:"Soil moisture",icon:ot,stationData:null!==a&&void 0!==a&&a.values?"".concat(null===a||void 0===a||null===(i=a.values.at(-1))||void 0===i?void 0:i.soilMoisture," "):""})]})]})}function jt(e){var t,n=e.selectedStation,r=e.closeModal,c=(e.count,Object(a.c)()),i=(Object(a.d)((function(e){return e.auth.user})),Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.followedByUser})),Object(a.d)((function(e){return e.station.loading})),Object(a.d)((function(e){return e.station.successMessage})));return Object(s.useEffect)((function(){c(Me())}),[c]),Object(m.jsxs)("div",{class:"relative bg-white mx-auto my-32 md:w-3/6 sm:w-4/6 lg:w-2/5 xl:w-1/3 2xl:w-1/4 p-8 rounded-md z-20 shadow-lg",children:[Object(m.jsx)("div",{class:"absolute cursor-pointer  text-red-400 -right-5 -top-5",onClick:function(){return r()},children:Object(m.jsx)(st,{})}),Object(m.jsxs)("div",{children:[i?nt.b.success(i,{toastId:1,position:"top-right",autoClose:1300,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):"",Object(m.jsx)(nt.a,{position:"top-right",autoClose:1300,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),Object(m.jsxs)("div",{class:"flex justify-between mt-0 mb-8 border-gray-700 ",children:[Object(m.jsxs)("div",{class:"font-bold flex",children:[Object(m.jsx)("div",{children:"Station de "}),Object(m.jsx)("div",{class:"ml-2 text-blue-600",children:n?n.name:""})]}),Object(m.jsxs)("div",{class:"text-blue-600 text-sm",children:[n?null===n||void 0===n||null===(t=n.values.at(-1))||void 0===t?void 0:t.time:""," GMT"]})]}),Object(m.jsx)(ut,{station:n}),Object(m.jsxs)("div",{class:"flex justify-between items-center mt-8",children:[Object(m.jsx)(Ge,{}),Object(m.jsx)("div",{children:Object(m.jsx)(Ie,{id:n._id})})]})]})}function bt(e){var t=e.onClickStation,n=e.count,r=e.modalStatus,c=e.selectedStation,i=e.closeModal,l=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.stations})),d=Object(s.useState)(!0),u=Object(o.a)(d,2),j=(u[0],u[1]),b=Object(a.d)((function(e){var t;return null===(t=e.search)||void 0===t?void 0:t.searchValueId})),x=Object(a.d)((function(e){var t;return null===(t=e.search)||void 0===t?void 0:t.toggle}));console.log(x);var h=Object(a.d)((function(e){return e.map})),O=Object(a.c)(),p=b&&x?null===l||void 0===l?void 0:l.filter((function(e){return e._id===b})):l;return console.log(l),Object(s.useEffect)((function(){setTimeout((function(){return j(!1)}),4e3)}),[]),console.log("content ".concat(p.map((function(e){return e.name})))),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{id:"map",class:"absolute inset-0",children:Object(m.jsxs)(et.b,{initialViewState:Object(be.a)({},h),mapboxAccessToken:"pk.eyJ1Ijoic2VwY3kiLCJhIjoiY2w0Mmt4NzloMHVjYTNmcjI5emwyeHN4MSJ9.E3m00Uw12dCWZf_YnXjQqA",mapStyle:"mapbox://styles/sepcy/cklfy4o3847qy17k7lwbi8fo3",style:{width:"100%",height:"100vh"},onMove:function(e){O({type:W,payload:e})},children:[null===p||void 0===p?void 0:p.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsxs)(et.a,{onClick:function(){return t(e)},longitude:e.latitude,latitude:e.longitude,anchor:"bottom",children:[Object(m.jsx)("img",{class:" w-8 hover:scale-105 cursor-pointer ",src:tt,alt:"Ic\xf4ne de marqueur"}),Object(m.jsx)("div",{class:"absolute inset-0  flex justify-center items-center left-0  cursor-pointer opacity-0 hover:opacity-100",children:Object(m.jsxs)("div",{class:"relative left-6 bottom-8 text-center right-0  text-sm rounded-md  bg-red-600 text-white px-4 py-1",children:[e.name,Object(m.jsx)("div",{class:"absolute left-0 bottom-0 bg-red-600 w-4 h-2 transform rotate-45"})]})})]})})})),r?Object(m.jsx)("div",{class:"absolute inset-0",children:Object(m.jsx)(jt,{selectedStation:c,closeModal:i,count:n})}):""]})})})}function xt(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),i=Object(o.a)(c,2),a=i[0],l=i[1],d=Object(s.useState)(""),u=Object(o.a)(d,2),j=u[0];u[1];return Object(s.useEffect)((function(){}),[]),Object(m.jsx)("div",{children:Object(m.jsx)(bt,{onClickStation:function(e){r(!0),l(e)},count:j,modalStatus:n,selectedStation:a,closeModal:function(){r(!1),l("")}})})}function mt(){return Object(m.jsx)("div",{children:Object(m.jsx)(xt,{})})}function ht(e){var t=e.children;return Object(m.jsx)("div",{class:" bg-white-100 w-80 rounded-md mx-auto my-24 inline-block",children:t})}function Ot(e){var t,n=e.handleSubmit,s=e.onSubmit,r=e.register,c=(e.errors,e.watch),i=e.formState,a=e.loading,o=e.message,d=c(["email","password"]),u=!0;return d[0]&&d[1]&&(u=0===d[0].length||0===d[1].length),o.state&&(t=o.state.message),Object(m.jsxs)("div",{class:"mx-auto relative",children:[Object(m.jsx)("div",{children:a?Object(m.jsx)("div",{class:"absolute flex justify-center items-center inset-0 bg-white opacity-80 rounded ",children:Object(m.jsx)(h,{})}):""}),Object(m.jsx)("div",{class:"font-bold mb-10 text-2xl text-gray-600",children:"Se connecter"}),t&&Object(m.jsx)("div",{class:"bg-red-600 opacity-70 flex text-white rounded justify-center p-4 mb-8",children:o.state.message}),Object(m.jsxs)("form",{id:"login",class:"",onSubmit:n(s),children:[Object(m.jsxs)("label",{class:"flex flex-col",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Email"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 mb-8 w-full text-gray-900",type:"email",name:"email",required:"true",placeholder:"abc@xyz.com"},r("email",{required:!0})))]}),Object(m.jsxs)("label",{class:"flex flex-col",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Mot de passe"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 mb-8 w-full text-gray-600 ",type:"password",name:"password",required:"true",placeholder:"Saisissez votre mot de passe"},r("password",{required:!0})))]}),Object(m.jsx)("div",{class:"mt-4",children:Object(m.jsx)(p,{form:"login",name:"Se connecter",formState:i,disabled:u})})]}),Object(m.jsxs)("div",{class:"mt-8",children:["Pas de compte ?"," ",Object(m.jsx)("span",{class:"ml-4 text-blue-500",children:Object(m.jsx)(l.b,{to:j,children:"Cr\xe9er un compte"})})," "]})]})}function pt(){var e=Object(a.d)((function(e){return e.authError})),t=Object(a.d)((function(e){return e.auth.loading})),n=Object(a.d)((function(e){return e.auth.isAuthenticated})),r=Object(d.g)(),c=Object(a.c)(),i=Object(xe.b)({mode:"onChange"}),l=i.register,o=i.handleSubmit,u=i.watch,j=i.formState,b=j.errors,x=function(){var e=Object(ke.a)(Object(Se.a)().mark((function e(t,n){return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c(re(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n&&r.push("/")}),[n,r]),Object(m.jsx)(Ot,{handleSubmit:o,register:l,watch:u,errors:b,formState:j,message:e,loading:t,onSubmit:x})}function vt(){return Object(m.jsx)(ht,{children:Object(m.jsx)(pt,{})})}var ft=n(19);function gt(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})})}function yt(e){var t=e.link;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(l.b,{class:"flex  text-blue-500 items-center justify-between w-12",to:t,children:[Object(m.jsx)("div",{class:"mr-2 hover:mr-3",children:Object(m.jsx)(gt,{})}),Object(m.jsx)("div",{children:"Retour"})]})})}function wt(e){var t=e.handleSubmit,n=e.onSubmit,r=e.register,c=e.errors,i=e.watch,a=e.loading,l=(e.message,i(["identificator","name","longitude","latitude","number"])),d=!0;return l[0]&&l[1]&&(d=0===l[0].length||0===l[1].length||0===l[2].length||0===l[3].length||0===l[4].length),Object(s.useRef)({}).current=i("password",""),Object(m.jsxs)("div",{class:"relative w-2/4 bg-red-400 flex justify-between",children:[Object(m.jsx)("div",{class:" pt-32 ",children:Object(m.jsx)(yt,{link:b})}),Object(m.jsxs)("div",{class:"mx-auto w-1/3 pt-32 mb-24 relative",children:[Object(m.jsx)("div",{children:a?Object(m.jsx)("div",{class:"absolute flex justify-center items-center inset-0 bg-white opacity-80 rounded ",children:Object(m.jsx)(h,{})}):""}),Object(m.jsx)("div",{class:"font-bold mb-10 text-xl text-gray-600",children:"Ajouter une station"}),undefined,Object(m.jsxs)("form",{id:"register",onSubmit:t(n),children:[Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Identificateur"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-900",type:"text",name:"identificator",required:"true",placeholder:"Entrer l'id de la station"},r("identificator",{required:!0})))]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Nom"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"text",name:"name",required:!0,placeholder:"Saisissez votre nom"},r("name",{required:!0,minLength:{value:2,message:"Le nom doit avoir deux caract\xe8res minimum"},pattern:{value:/^[a-zA-Z_][a-zA-Z0-9_]*/i,message:"Le nom doit commencer par une lettre"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:c,name:"name",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Longitude"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"number",name:"longitude",step:"any",required:"true",placeholder:"Saisissez la longitude"},r("longitude",{required:!0}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:c,name:"longitude",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Latitude"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"number",name:"latitude",step:"any",required:"true",placeholder:"Saisissez la latitude"},r("latitude",{required:!0}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:c,name:"latitude",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Num\xe9ro de T\xe9l\xe9phone"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"number",name:"number",required:"true",placeholder:"Saisissez votre nom"},r("number",{required:!0,maxLength:{value:9,message:"Le num\xe9ro contient 9 caract\xe8res"},minLength:{value:9,message:"Le num\xe9ro contient 9 caract\xe8res"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:c,name:"number",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("div",{class:"mt-6 ",children:[Object(m.jsx)(p,{form:"register",name:"Enregistrer",disabled:d}),Object(m.jsx)("div",{class:"mt-10 opacity-0",children:"hjghj"})]})]})]})]})}function St(){var e=Object(a.d)((function(e){return e.auth.user})),t=Object(xe.b)({mode:"onChange"}),n=t.register,s=t.handleSubmit,r=t.watch,c=t.formState,i=c.errors,l=Object(d.g)(),o=Object(a.c)(),u=function(){var t=Object(ke.a)(Object(Se.a)().mark((function t(n,s){var r;return Object(Se.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(be.a)({userId:e._id},n),o(_e(r)),l.push("/stations"),s.preventDefault();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(wt,{handleSubmit:s,register:n,watch:r,errors:i,formState:c,onSubmit:u})})}function kt(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.8",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Ct(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function Et(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function Mt(){return Object(m.jsxs)("ul",{class:"bg-white z-20  border p-3 shadow-xl rounded-md",children:[Object(m.jsx)(oe,{icon:Object(m.jsx)(Et,{}),text:"Editer"}),Object(m.jsx)(oe,{color:"text-red-400",icon:Object(m.jsx)(Ct,{}),text:"Supprimer"})]})}function _t(){return Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}function Lt(){return Object(m.jsxs)("div",{class:"bg-white rounded-md p-4 shadow-lg",children:[Object(m.jsx)("div",{class:"text-sm font-semibold",children:"Placer une alerte"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{class:"my-8",children:Object(m.jsxs)("select",{class:"bg-gray-50 border border-gray-300 rounded-md p-2 form-select block w-full mt-1",children:[Object(m.jsx)("option",{children:"Pluviom\xe9trie"}),Object(m.jsx)("option",{children:"Temp\xe9rature"}),Object(m.jsx)("option",{children:"Vitesse du vent"}),Object(m.jsx)("option",{children:"Direction du vent"}),Object(m.jsx)("option",{children:"Humidit\xe9"}),Object(m.jsx)("option",{children:"PH du sol"})]})}),Object(m.jsxs)("div",{class:"mb-8 flex justify-between",children:[Object(m.jsxs)("label",{class:"inline-flex items-center",children:[Object(m.jsx)("input",{type:"radio",class:"form-radio",name:"accountType",value:"superieur"}),Object(m.jsx)("span",{class:"ml-2",children:"Sup\xe9rieur"})]}),Object(m.jsxs)("label",{class:"inline-flex items-center ml-6",children:[Object(m.jsx)("input",{type:"radio",class:"form-radio",name:"accountType",value:"inferieur"}),Object(m.jsx)("span",{class:"ml-2",children:"Inf\xe9rieur"})]})]}),Object(m.jsx)("div",{class:"my-2",children:Object(m.jsx)("input",{placeholder:"Entre le seuil",class:" py-2  border-gray-300 px-4 border rounded-md",type:"number",name:"alert"})}),Object(m.jsx)("div",{class:"mt-8",children:Object(m.jsx)(p,{name:"Sauvegarder"})}),Object(m.jsx)("div",{class:"mt-2 text-red-700 cursor-pointer rounded-md text-center hover:bg-gray-100 text-sm px-2 py-2",children:"Annuler"})]})]})}function Tt(e){var t=e.value,n=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.selectedId})),r=Object(d.h)(),c=Object(a.c)(),i=function(e){c({type:K,payload:e})},l=Object(s.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],x=function(){b(!j)};return Object(m.jsxs)("div",{class:"".concat((null===n||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)?"border-blue-300 ":""," flex flex-col shadow-sm text-sm w-full border border-gray-200 bg-white p-6 rounded-md"),children:[Object(m.jsxs)("div",{class:"flex justify-between items-center",children:[Object(m.jsx)("div",{class:"font-semibold text-gray-600",children:t?t.name:""}),"/stations-suivies"!==r.pathname?Object(m.jsxs)("div",{class:"cursor-pointer text-gray-600 hover:text-blue-600 relative",onClick:function(){return x()},children:[Object(m.jsx)(kt,{}),Object(m.jsx)("div",{class:"absolute z-20 mt-1 right-0 ",children:j?Object(m.jsx)(Mt,{}):""})]}):Object(m.jsxs)("div",{class:"relative",children:[Object(m.jsx)("div",{class:"cursor-pointer text-gray-600  relative",onClick:function(){return x()},children:Object(m.jsx)(_t,{})}),Object(m.jsx)("div",{class:"absolute border rounded-md z-20 mt-1 right-0 ",children:j?Object(m.jsx)(Lt,{}):""})]})]}),Object(m.jsxs)("div",{class:"mt-6  flex flex-col ",children:[Object(m.jsx)("div",{onClick:function(){return i(t)},class:"flex justify-center hover:bg-blue-50 text-blue-600 mb-5 py-2 px-4 rounded-md cursor-pointer",children:"Plus de details"}),Object(m.jsxs)("div",{class:"flex justify-center items-center",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{class:"align-self-right",children:Object(m.jsx)(Ie,{id:t._id})})]})]})]})}function At(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){c(e.stations)}),[e]),Object(m.jsx)("div",{id:"stationsList",class:" overflow-y-scroll flex flex-col pr-2 justify-start",children:r?r.map((function(e){return Object(m.jsx)("div",{class:"mb-2",children:Object(m.jsx)(Tt,{value:e})},e._id)})):Object(m.jsxs)("div",{class:"flex mt-10 justify-center text-gray-500 items-center",children:[Object(m.jsx)(ye,{}),Object(m.jsx)("div",{class:"ml-4 text-sm",children:"Aucune station suivie"})]})})}function It(){var e=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.stations}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{class:"font-semibold text-md text-gray-600 mb-6",children:"Mes stations"}),Object(m.jsx)(At,{stations:e})]})}function Nt(){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{class:"flex justify-between",children:[Object(m.jsx)("div",{class:"w-2/12  my-2 border bg-gray-100 flex justify-center",children:Object(m.jsx)("div",{class:"text-sm",children:"7:30"})}),Object(m.jsx)("div",{class:"w-2/12  my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})}),Object(m.jsx)("div",{class:"w-2/12 my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})}),Object(m.jsx)("div",{class:"w-2/12 my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})}),Object(m.jsx)("div",{class:"w-2/12 my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})}),Object(m.jsx)("div",{class:"w-2/12 my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})}),Object(m.jsx)("div",{class:"w-2/12 my-2 border text-sm px-4 bg-gray-50 flex justify-center",children:Object(m.jsx)("div",{children:"3"})})]})})}function Dt(){return Object(m.jsx)("div",{class:"flex flex-col",children:Object(m.jsxs)("div",{class:"mt-8",children:[Object(m.jsx)("div",{class:"text-sm font-semibold text-gray-500 mb-4",children:"1 janvier 2021"}),Object(m.jsxs)("div",{class:"my-2",children:[Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{}),Object(m.jsx)(Nt,{})]})]})})}function Gt(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(m.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}function Rt(e){e.icon;var t=e.text;return Object(m.jsx)("div",{class:"flex  flex-col-reverse bg-gray-200 py-4 items-center justify-center  w-2/12 shadow-md border-white border",children:Object(m.jsx)("div",{class:"px-2 text-center",children:t})})}var Pt=n.p+"static/media/time.12ede35a.svg";function zt(){return Object(m.jsxs)("div",{class:"flex justify-between shadow-sm text-sm",children:[Object(m.jsx)(Rt,{icon:Pt,text:"Heure"}),Object(m.jsx)(Rt,{icon:rt,text:"Temp\xe9rature"}),Object(m.jsx)(Rt,{icon:it,text:"Vitesse du vent"}),Object(m.jsx)(Rt,{icon:at,text:"Direction du vent"}),Object(m.jsx)(Rt,{icon:ct,text:"Humidit\xe9"}),Object(m.jsx)(Rt,{icon:lt,text:"Pluviom\xe9trie"}),Object(m.jsx)(Rt,{icon:ot,text:"PH du sol"})]})}function Ht(e){var t=e.value;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{class:"flex items-center justify-between mb-12",children:[Object(m.jsxs)("div",{class:"font-semibold text-md",children:["Station de ",Object(m.jsx)("span",{class:"text-blue-600",children:null===t||void 0===t?void 0:t.name})]}),Object(m.jsxs)("div",{class:"flex items-center",children:[Object(m.jsx)("div",{class:"flex mr-12 items-center text-gray-600",children:Object(m.jsx)("div",{class:"-mr-10 text-blue-600",children:Object(m.jsx)(Gt,{})})}),Object(m.jsxs)("div",{class:"flex mr-8 text-sm",children:[Object(m.jsx)("div",{class:"mr-4",children:"Longitude"}),Object(m.jsx)("div",{class:"text-blue-600",children:null===t||void 0===t?void 0:t.longitude})]}),Object(m.jsxs)("div",{class:"flex text-sm",children:[Object(m.jsx)("div",{class:"mr-4",children:"Latitude"}),Object(m.jsx)("div",{class:"text-blue-600 mr-4",children:null===t||void 0===t?void 0:t.latitude})]})]})]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)(zt,{})]}),Object(m.jsxs)("div",{class:"flex flex-col h-screen overflow-y-scroll pl-2",children:[Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{}),Object(m.jsx)(Dt,{})]})]})}function Vt(e){var t=e.sidebar,n=e.content;return Object(m.jsxs)("div",{class:"flex mx-10 w-screen justify-between mt-24 ",children:[Object(m.jsx)("div",{id:"left",class:"fixed  shadow-sm rounded-md h-full bottom-0 top-24  flex flex-col w-1/2 2xl:w-1/6 xl:w-1/5 md:w-1/3 lg:w-1/4 sm:w-1/3",children:t}),Object(m.jsx)("div",{class:"fixed mt-12 2xl:w-4/5 md:w-4/5  right-0  pr-8 pl-10 ",children:Object(m.jsx)("div",{class:"shadow-sm border border-gray-100 md:ml-8 rounded-md p-8 bg-gray-50",children:n})})]})}function Bt(){var e=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.selectedId})),t=Object(a.c)();return Object(s.useEffect)((function(){t(Le())}),[t]),Object(m.jsx)(Vt,{sidebar:Object(m.jsx)(It,{}),content:e?Object(m.jsx)(Ht,{value:e}):""})}function Ut(e){var t=e.stations,n=Object(a.d)((function(e){return e.station.stations})),r=Object(s.useState)([]),c=Object(o.a)(r,2),i=c[0],l=c[1];Object(s.useEffect)((function(){l(t)}),[t]);var d=n.filter((function(e){return null===i||void 0===i?void 0:i.includes(e._id)}));return Object(m.jsx)("div",{id:"stationsList",class:" overflow-y-scroll flex flex-col pr-2 justify-start",children:0!==d.length?d.map((function(e){return Object(m.jsx)("div",{class:"mb-2",children:Object(m.jsx)(Tt,{value:e})},e._id)})):Object(m.jsxs)("div",{class:"flex mt-10 justify-center text-gray-500 items-center",children:[Object(m.jsx)(ye,{}),Object(m.jsx)("div",{class:"ml-4 text-sm",children:"Aucune station suivie"})]})})}function qt(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.d)((function(e){return e.station.followedByUser}));return Object(s.useEffect)((function(){r(c)}),[c]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{class:"font-semibold text-md text-gray-600 mb-6",children:"Stations suivies"}),Object(m.jsx)(Ut,{stations:n})]})}function Ft(){var e=Object(a.d)((function(e){var t;return null===(t=e.station)||void 0===t?void 0:t.selectedId})),t=Object(a.c)();return Object(s.useEffect)((function(){t(Le())}),[t]),Object(m.jsx)(Vt,{sidebar:Object(m.jsx)(qt,{}),content:e?Object(m.jsx)(Ht,{value:e}):""})}function Wt(e){var t,n=e.handleSubmit,r=e.onSubmit,c=e.register,i=e.errors,a=e.watch,d=(e.formState,e.loading),j=e.message,b=a(["email","password","confirmPassword","number","firstName"]),x=!0;b[0]&&b[1]&&(x=0===b[0].length||0===b[1].length||0===b[2].length||0===b[3].length||0===b[4].length);var O=Object(s.useRef)({});return O.current=a("password",""),j.state&&(t=j.state.message),Object(m.jsxs)("div",{class:"mx-auto relative",children:[Object(m.jsx)("div",{children:d?Object(m.jsx)("div",{class:"absolute flex justify-center items-center inset-0 bg-white opacity-80 rounded ",children:Object(m.jsx)(h,{})}):""}),Object(m.jsx)("div",{class:"font-bold mb-10 text-2xl text-gray-600",children:"Creer votre compte"}),t&&Object(m.jsx)("div",{class:"bg-red-600 opacity-70 flex text-white rounded justify-center p-4 mb-8",children:j.state.message}),Object(m.jsxs)("form",{id:"register",onSubmit:n(r),children:[Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Email"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-900",type:"email",name:"email",required:"true",placeholder:"abc@xyz.com"},c("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Adresse email invalide"}})))]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Nom"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"text",name:"firstName",required:"true",placeholder:"Saisissez votre nom"},c("firstName",{required:!0,minLength:{value:2,message:"Le nom doit avoir deux caract\xe8res minimum"},pattern:{value:/^[a-zA-Z_][a-zA-Z0-9_]*/i,message:"Le nom doit commencer par une lettre"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:i,name:"firstName",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Prenom"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"text",name:"lastName",required:"true",placeholder:"Saisissez votre nom"},c("lastName",{pattern:{value:/^[a-zA-Z_][a-zA-Z0-9_]*/i,message:"Le prenom doit commencer par une lettre"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:i,name:"lastName",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Num\xe9ro de T\xe9l\xe9phone"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"number",name:"number",required:"true",placeholder:"Saisissez votre nom"},c("number",{required:!0,maxLength:{value:9,message:"Le num\xe9ro contient 9 caract\xe8res"},minLength:{value:9,message:"Le num\xe9ro contient 9 caract\xe8res"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:i,name:"number",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Mot de passe"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600 ",type:"password",name:"password",required:"true",placeholder:"Mot de passe (6 caract\xe8res minimum)"},c("password",{required:!0,minLength:{value:6,message:"Le mot de passe doit avoir 6 caract\xe8res minimum"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:i,name:"password",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsxs)("label",{class:"flex flex-col mt-4",children:[Object(m.jsx)("div",{class:"inline-block w-auto text-gray-600",children:"Confirmer votre mot passe"}),Object(m.jsx)("input",Object(be.a)({class:"py-3 px-4 rounded border-gray-400 border focus:outline-none focus:border-blue-300  mt-4 w-full text-gray-600",type:"password",name:"confirmPassword",required:"true",placeholder:"Entrer \xe0 nouveau votre Mot de passe"},c("confirmPassword",{required:!0,validate:function(e){return e===O.current||"Les mots de passes sont diff\xe9rents"}}))),Object(m.jsx)("div",{class:"text-red-400 text-sm pt-4",children:Object(m.jsx)(ft.a,{errors:i,name:"confirmPassword",children:function(e){var t=e.messages;return t&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(m.jsx)("p",{class:"text-red-400 text-xs",children:s},n)}))}})})]}),Object(m.jsx)("div",{class:"mt-4",children:Object(m.jsx)(p,{form:"register",name:"Enregistrer",disabled:x})})]}),Object(m.jsxs)("div",{class:"mt-8",children:["D\xe9j\xe0 un compte ?"," ",Object(m.jsx)("span",{class:"ml-4 text-blue-500",children:Object(m.jsx)(l.b,{to:u,children:"Se connecter"})})," "]})]})}function Zt(){var e=Object(a.d)((function(e){return e.authError})),t=Object(a.d)((function(e){return e.auth.loading})),n=Object(a.d)((function(e){return e.auth.isAuthenticated})),r=Object(xe.b)({mode:"onChange"}),c=r.register,i=r.handleSubmit,l=r.watch,o=r.formState,u=o.errors,j=Object(d.g)(),b=Object(a.c)(),x=function(){var e=Object(ke.a)(Object(Se.a)().mark((function e(t,n){return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),b(ce(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n&&j.push("/")}),[n,j]),Object(m.jsxs)("div",{children:[Object(m.jsx)(Wt,{handleSubmit:i,register:c,watch:l,errors:u,formState:o,message:e,loading:t,onSubmit:x}),Object(m.jsx)("div",{class:"mt-10 opacity-0",children:"khjkj"})]})}function Jt(){return Object(m.jsx)(ht,{children:Object(m.jsx)(Zt,{})})}function Yt(){return Object(m.jsx)("div",{children:"Visualiser"})}var Xt=n(22),Qt=["children","auth"];Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth,s=Object(Xt.a)(e,Qt);return Object(m.jsx)(d.b,Object(be.a)(Object(be.a)({},s),{},{render:function(e){var s=e.location;return n.isAuthenticated?t:Object(m.jsx)(d.a,{to:{pathname:u,state:{from:s}}})}}))}));var $t=["children","auth"];var Kt=Object(a.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.children,n=e.auth,s=Object(Xt.a)(e,$t);return Object(m.jsx)(d.b,Object(be.a)(Object(be.a)({},s),{},{render:function(e){var s=e.location;return n.isAuthenticated?t:Object(m.jsx)(d.a,{to:{pathname:u,state:{from:s}}})}}))}));function en(){return Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",component:mt}),Object(m.jsx)(d.b,{exact:!0,path:u,component:vt}),Object(m.jsx)(d.b,{exact:!0,path:j,component:Jt}),Object(m.jsx)(Kt,{exact:!0,path:b,children:Object(m.jsx)(Bt,{})}),Object(m.jsx)(Kt,{exact:!0,path:"/stations-suivies",children:Object(m.jsx)(Ft,{})}),Object(m.jsx)(Kt,{exact:!0,path:"/stations/ajouter",children:Object(m.jsx)(St,{})}),Object(m.jsx)(Kt,{exact:!0,path:"/abonnement",children:Object(m.jsx)(Ke,{})}),Object(m.jsx)(d.b,{exact:!0,path:x,component:Yt}),Object(m.jsx)(d.b,{exact:!0,path:"/tarif",component:Ke})]})}var tn=n(25),nn=n(45),sn={message:"",status:null,id:null},rn={token:localStorage.getItem("token"),user:null,isAuthenticated:!1,loading:!1,stations:[]},cn={latitude:5.79142,longitude:12.25444,zoom:5.5},an={loading:!1,searchValueOnType:"",searchedValue:null,searchValueId:null,toggle:!1,searchedValues:null},ln=n(11),on={loading:!1,successMessage:null,errorMessage:null,followedByUser:[],selectedId:null,stations:[]},dn=function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e},un={typeOfSubscription:null,id:null,type:null,loadingPremium:!1,loadingOwner:!1,message:null},jn=Object(tn.b)({auth:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g:return Object(be.a)(Object(be.a)({},t),{},{loading:!0});case y:return Object(be.a)(Object(be.a)({},t),{},{token:n.payload.token,loading:!1,isAuthenticated:!0,user:n.payload.user,stations:null===(e=n.payload)||void 0===e?void 0:e.stations});case C:case w:return localStorage.setItem("token",n.payload.token),Object(be.a)(Object(be.a)({},t),{},{token:n.payload.token,loading:!1,isAuthenticated:!0,user:n.payload.user});case E:case k:case S:case M:return localStorage.removeItem("token"),Object(be.a)(Object(be.a)({},t),{},{token:null,user:null,isAuthenticated:!1,loading:!1});default:return t}},authError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(be.a)(Object(be.a)({},e),{},{message:t.payload.message,status:t.payload.status,id:t.payload.id});case L:return{message:"",status:null,id:null};default:return{state:e}}},subscription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(be.a)(Object(be.a)({},e),{},{typeOfSubscription:t.payload.subscription,id:t.payload.id,loadingPremium:!1,loadingOwner:!1});case N:return Object(be.a)(Object(be.a)({},e),{},{type:t.payload,loadingPremium:!1});case D:return Object(be.a)(Object(be.a)({},e),{},{message:t.payload.message,loadingOwner:!1});case G:return Object(be.a)(Object(be.a)({},e),{},{message:t.payload.message,loading:!1});case A:return Object(be.a)(Object(be.a)({},e),{},{loadingOwner:!0});case T:return Object(be.a)(Object(be.a)({},e),{},{loadingPremium:!0});default:return e}},station:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case J:return Object(be.a)(Object(be.a)({},t),{},{successMessage:null,errorMessage:null});case $:return Object(be.a)(Object(be.a)({},t),{},{followedByUser:n.payload});case R:return Object(be.a)(Object(be.a)({},t),{},{loading:!0});case P:var s=-1===(null===t||void 0===t?void 0:t.followedByUser.indexOf(n.payload.idStation))&&(null===t||void 0===t?void 0:t.followedByUser.push(n.payload.idStation));return Object(be.a)(Object(be.a)({},t),{},{loading:!1,successMessage:n.payload.data.message,errorMessage:null,followedByUser:[].concat(Object(ln.a)(null===t||void 0===t?void 0:t.followedByUser),[s])});case z:return Object(be.a)(Object(be.a)({},t),{},{loading:!1,errorMessage:n.payload.message,successMessage:null});case H:return Object(be.a)(Object(be.a)({},t),{},{loading:!1,successMessage:n.payload.data.message,errorMessage:null,followedByUser:[dn(null===t||void 0===t?void 0:t.followedByUser,n.payload.idStation)]});case V:return Object(be.a)(Object(be.a)({},t),{},{loading:!1,errorMessage:null===(e=n.payload)||void 0===e?void 0:e.message,successMessage:null});case Y:return Object(be.a)(Object(be.a)({},t),{},{loading:!0});case K:return Object(be.a)(Object(be.a)({},t),{},{selectedId:n.payload});case ee:return Object(be.a)(Object(be.a)({},t),{},{stations:n.payload,loading:!1});case te:return Object(be.a)(Object(be.a)({},t),{},{selectedId:null});case X:case Q:return console.log(n.payload),Object(be.a)({},t);default:return t}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case U:return Object(be.a)(Object(be.a)({},e),{},{searchValueOnType:t.payload,loading:!1,toggle:!1});case F:return Object(be.a)(Object(be.a)({},e),{},{searchedValues:t.payload,loading:!1,toggle:!0});case q:return Object(be.a)(Object(be.a)({},e),{},{searchedValue:t.payload.value,searchValueId:t.payload.id,toggle:!0,loading:!1});default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(be.a)(Object(be.a)({},e),t.payload);case Z:return Object(be.a)({},e);default:return e}}}),bn=[nn.a],xn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):tn.c)(tn.a.apply(void 0,bn)),mn=Object(tn.d)(jn,{},xn);var hn=function(){return Object(s.useEffect)((function(){mn.dispatch((function(e,t){e({type:g}),f.a.post("/authentication/validtoken",{},ne(t)).then((function(t){return e({type:y,payload:t.data})})).catch((function(t){e({type:S})}))})),mn.dispatch((function(e,t){e({type:Y}),f.a.get("/stations/","",ne(t)).then((function(t){return e({type:ee,payload:t.data})})).catch((function(t){return e({type:"STATIONS_LOADING_FAIL"})}))}))}),[]),Object(m.jsx)(a.a,{store:mn,children:Object(m.jsx)("div",{class:"h-full relative",children:Object(m.jsxs)(l.a,{basename:"/",children:[Object(m.jsx)("div",{className:"App_header relative z-10",children:Object(m.jsx)(Ve,{})}),Object(m.jsx)("div",{class:" absolute bg-gray-100  inset-0  w-full flex justify-center align-center",children:Object(m.jsx)(en,{})})]})})})},On=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,83)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),c(e),i(e)}))};n(80);i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(hn,{})}),document.getElementById("root")),On()}},[[81,1,2]]]);
//# sourceMappingURL=main.4147b8e0.chunk.js.map